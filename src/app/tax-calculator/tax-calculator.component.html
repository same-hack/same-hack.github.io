<main>
  <h1>ğŸ¦ˆäº‹æ¥­ä¸»å‘ã‘ç¨é‡‘è¨ˆç®—ãƒ„ãƒ¼ãƒ«</h1>
  <section>
    <p>æ¥å¹´åº¦ã®ç¨é‡‘ãŒè¨ˆç®—ã§ãã‚‹ã‚ˆï¼</p>
  </section>
  <table border="1">
    <tr>
      <th>ç¨®åˆ¥</th>
      <th>å…¥åŠ›æ¬„</th>
      <th>å‚™è€ƒ</th>
    </tr>
    <tr>
      <td>å£²ä¸Š</td>
      <td>
        <input type="text" [(ngModel)]="income" (ngModelChange)="calc()" />
        <button (click)="update('income', 100000)">+</button>
        <button (click)="update('income', -100000)">-</button>
        å††
      </td>
      <td>-</td>
    </tr>
    <tr>
      <td>çµŒè²»</td>
      <td>
        <input type="number" [(ngModel)]="expenses" (ngModelChange)="calc()" />
        <button (click)="update('expenses', 100000)">+</button>
        <button (click)="update('expenses', -100000)">-</button>
        å††
      </td>
      <td>-</td>
    </tr>
    <tr>
      <td>åŸºç¤æ§é™¤</td>
      <td>
        <input
          type="number"
          [(ngModel)]="deduction.basic"
          (ngModelChange)="calc()"
        />
        <button (click)="update('deductionBasic', 10000)">+</button>
        <button (click)="update('deductionBasic', -10000)">-</button>
        å††
      </td>
      <td>-</td>
    </tr>
    <tr>
      <td>ç¤¾ä¼šä¿é™ºæ–™æ§é™¤</td>
      <td>
        <input
          type="number"
          [(ngModel)]="deduction.insurance"
          (ngModelChange)="calc()"
        />
        <button (click)="update('deductionInsurance', 12)">Ã—12</button>
        å††
      </td>
      <td>-</td>
    </tr>
    <tr>
      <td>å¸³ç°¿</td>
      <td>
        <mat-radio-group
          aria-labelledby="example-radio-group-label"
          class="example-radio-group"
        >
          <mat-radio-button
            class="example-radio-button"
            *ngFor="let ledger of deduction.ledgerList"
            [value]="ledger.money"
            [checked]="ledger.isChecked"
            (change)="update('ledger', ledger.money)"
          >
            {{ ledger.text }}
          </mat-radio-button>
        </mat-radio-group>
      </td>
      <td>
        <span>{{ deduction.checkedLedger }}å††æ§é™¤</span>
      </td>
    </tr>
    <tr>
      <td>äº‹æ¥­ç¨®åˆ¥</td>
      <td>
        <mat-radio-group
          aria-labelledby="example-radio-group-label"
          class="example-radio-group"
        >
          <mat-radio-button
            class="example-radio-button"
            *ngFor="let bussines of businessType"
            [value]="bussines.rate"
            [checked]="bussines.isChecked"
            (change)="update('businessType', bussines.rate)"
          >
            {{ bussines.text }}
          </mat-radio-button>
        </mat-radio-group>
      </td>
      <td>
        <span>äº‹æ¥­ç¨: {{ TAX.businessTypeRate }}%</span>
      </td>
    </tr>
    <tr>
      <td>ãµã‚‹ã•ã¨ç´ç¨</td>
      <td>
        <input
          type="number"
          [(ngModel)]="deduction.furusato.donation"
          (ngModelChange)="calc()"
        />
        <button (click)="update('furusato', 10000)">+</button>
        <button (click)="update('furusato', -10000)">-</button>
        å††
      </td>
      <td>
        æ‰€å¾—ç¨é‚„ä»˜é‡‘: {{ deduction.furusato.incomeRefund.toLocaleString() }}å††
      </td>
    </tr>
  </table>

  <div>
    <br />
    <h3>èª²ç¨æ‰€å¾—ï¼š{{ taxableIncome }}å††</h3>
  </div>

  <table border="1">
    <tr>
      <th>ç¨é‡‘</th>
      <th>é‡‘é¡</th>
      <th>ç®—å‡ºæ–¹æ³•</th>
      <th>æ”¯æ‰•æ—¥</th>
    </tr>
    <tr>
      <td>æ‰€å¾—ç¨</td>
      <td>{{ TAX.incomeTax }}</td>
      <td>
        èª²ç¨æ‰€å¾— Ã— {{ TAX.incomeTaxRate }}% - {{ TAX.incomeTaxDeduction }}
      </td>
      <td>ç¿Œå¹´3æœˆ15æ—¥</td>
    </tr>
    <tr>
      <td>ä½æ°‘ç¨</td>
      <td>{{ TAX.residentTax }}</td>
      <td>
        èª²ç¨æ‰€å¾— Ã— {{ TAX.residentTaxRate }}% -
        {{ deduction.furusato.residentDeduction }} â€»ä¸€å¾‹
      </td>
      <td>ç¿Œå¹´6/8/10/1æœˆã®4åˆ†å‰²</td>
    </tr>
    <tr>
      <td>äº‹æ¥­ç¨</td>
      <td>{{ TAX.business }}</td>
      <td>
        èª²ç¨æ‰€å¾— Ã— {{ TAX.businessTypeRate }}% â€»èª²ç¨æ‰€å¾—ãŒ290ä¸‡å††æœªæº€ã®å ´åˆ0å††
      </td>
      <td>ç¿Œå¹´8/11æœˆ</td>
    </tr>
    <!-- <tr>
      <td>æ¶ˆè²»ç¨</td>
      <td>æ¶ˆè²»ç¨</td>
      <td>æ¶ˆè²»ç¨</td>
      <td>ç¿Œå¹´3æœˆ31æ—¥</td>
    </tr> -->
  </table>
</main>
